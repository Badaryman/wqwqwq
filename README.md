# Campus Cloud Storage App

A minimal Flask + SQLite app for student projects. Features:
- Registration & login
- File upload/download per user
- Shareable public download links
- Simple dashboard UI

## Quick start

```bash
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install -r requirements.txt
export FLASK_APP=app.py  # Windows: set FLASK_APP=app.py
python app.py  # runs on http://127.0.0.1:5000
```
(Optional) Set a stronger secret:
```bash
export SECRET_KEY="$(python -c 'import secrets;print(secrets.token_hex(16))')"
```

Uploads are stored under `uploads/` and database in `campus_cloud.db`.


## Use AWS S3 for storage
Set these environment variables before running to store uploads in S3 instead of local disk:
```bash
export S3_BUCKET="your-bucket-name"
export AWS_REGION="us-east-1"         # or your region
# Credentials are read from standard AWS locations (env vars or ~/.aws/credentials)
export AWS_ACCESS_KEY_ID="..."
export AWS_SECRET_ACCESS_KEY="..."
# optional: folder inside the bucket
export S3_PREFIX="uploads/"
```
When S3 is configured, downloads and public shares use **presigned URLs** that expire automatically (30 min for logged-in downloads, 15 min for public links).


## Deploy to Render (Docker)
1. Push this folder to a new GitHub repo.
2. In Render, **New + → Web Service → Build & deploy from a repo**.
3. Select this repo. Render will detect `render.yaml` or `Dockerfile`.
4. Set environment variables (S3 bucket + AWS creds). SECRET_KEY can be generated by Render.
5. Deploy. App will be available at your Render URL.

## Deploy to Railway (Procfile)
1. Push to GitHub.
2. In Railway, create a new project from the repo.
3. Add variables from `.env.example` (S3 + secrets). Railway will use the Procfile to start Gunicorn.
